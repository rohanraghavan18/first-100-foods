<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Ved's 100 First Foods</title>
  
   <!-- React & ReactDOM -->
   <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
   <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  
   <!-- Babel -->
   <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
   <!-- Tailwind CSS -->
   <script src="https://cdn.tailwindcss.com"></script>
  
   <style>
       /* Hide scrollbar */
       .no-scrollbar::-webkit-scrollbar { display: none; }
       .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      
       /* Popup Animation */
       @keyframes bounce-in {
           0% { transform: scale(0.3); opacity: 0; }
           50% { transform: scale(1.05); }
           70% { transform: scale(0.9); }
           100% { transform: scale(1); opacity: 1; }
       }
       .animate-bounce-in {
           animation: bounce-in 0.4s cubic-bezier(0.215, 0.61, 0.355, 1) forwards;
       }


       /* Confetti Animation */
       @keyframes fall {
           0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
           100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
       }
       .animate-fall {
           animation-name: fall;
           animation-timing-function: linear;
           animation-fill-mode: forwards;
       }
   </style>
</head>
<body class="bg-slate-50">
   <div id="root"></div>


   <script type="text/babel">
       const { useState, useEffect } = React;


       // --- Confetti Component ---
       const Confetti = () => {
           const colors = ['#ef4444', '#22c55e', '#3b82f6', '#eab308', '#a855f7', '#ec4899'];
           // Create 30 particles with random positions
           const particles = [...Array(30)].map((_, i) => ({
               id: i,
               left: Math.random() * 100, // 0-100vw
               bg: colors[Math.floor(Math.random() * colors.length)],
               duration: Math.random() * 1.5 + 1, // 1s - 2.5s fall time
               delay: Math.random() * 0.2,
               size: Math.random() * 6 + 6 // 6px - 12px
           }));


           return (
               <div className="fixed inset-0 pointer-events-none z-[60] overflow-hidden">
                   {particles.map(p => (
                       <div
                           key={p.id}
                           className="absolute top-[-20px] animate-fall rounded-sm"
                           style={{
                               left: `${p.left}%`,
                               backgroundColor: p.bg,
                               width: `${p.size}px`,
                               height: `${p.size}px`,
                               animationDuration: `${p.duration}s`,
                               animationDelay: `${p.delay}s`
                           }}
                       />
                   ))}
               </div>
           );
       };


       // --- Icons Component ---
       const Icon = ({ name, className, strokeWidth = 2 }) => {
           const icons = {
               Check: <polyline points="20 6 9 17 4 12" />,
               Search: <><circle cx="11" cy="11" r="8" /><path d="m21 21-4.3-4.3" /></>,
               PieChart: <path d="M21.21 15.89A10 10 0 1 1 8 2.83" />,
               Trophy: <><path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" /><path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" /><path d="M4 22h16" /><path d="M10 14.66V17" /><path d="M14 14.66V17" /><path d="M12 2v20" /><path d="M12 12a4 4 0 0 0 4-4H8a4 4 0 0 0 4 4z" /></>,
               Leaf: <><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 1.45 10t-7.37 7z" /><path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12" /></>,
               Apple: <><path d="M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z" /><path d="M10 2c1 .5 2 2 2 5" /></>,
               Beef: <><circle cx="12.5" cy="8.5" r="2.5" /><path d="M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 6.9 1.48 9.67l1.38 1.38A2 2 0 0 1 9.89 19l-1.26 2.59a2 2 0 0 0 3.01 2.19l1.46-.8a2 2 0 0 1 1.78 0l1.46.8a2 2 0 0 0 3.01-2.19l-1.26-2.59a2 2 0 0 1 .74-1.35l1.38-1.38C22.28 13.5 22.6 9.73 21.5 6.6A6.5 6.5 0 0 0 12.5 2Z" /></>,
               Wheat: <><path d="M2 22 16 8" /><path d="M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L2 22l4.53-4.53a3.5 3.5 0 0 1 4.94 0L13 19l-1.53 1.53" /><path d="M12 8l1.53-1.53a3.5 3.5 0 0 1 4.94 0l4.53-4.53-4.53 4.53a3.5 3.5 0 0 1 0 4.94L16 14l-4-4" /></>,
               Droplet: <path d="M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z" />,
               Sparkles: <><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L12 3Z" /><path d="M5 3v4" /><path d="M9 5H5" /><path d="M3 7V3" /></>,
               Filter: <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />,
               ChevronDown: <path d="m6 9 6 6 6-6" />,
               ChevronUp: <path d="m18 15-6-6-6 6" />
           };


           const content = icons[name] || null;
          
           return (
               <svg
                   xmlns="http://www.w3.org/2000/svg"
                   width="24"
                   height="24"
                   viewBox="0 0 24 24"
                   fill="none"
                   stroke="currentColor"
                   strokeWidth={strokeWidth}
                   strokeLinecap="round"
                   strokeLinejoin="round"
                   className={className}
               >
                   {content}
               </svg>
           );
       };


       // --- Data ---
       const FOOD_DATA = {
         Veggies: [
           "Butternut Squash", "Kale", "Spinach", "Cauliflower", "Potatoes",
           "Sweet Potatoes", "Yams", "Carrots", "Smashed Peas", "Zucchini",
           "Peppers", "Mushrooms", "Eggplant", "Cucumber", "Parsnips", "Asparagus",
           "Broccoli", "Green Beans", "Beets", "Creamed Corn", "Pumpkin",
           "Tomatoes"
         ],
         Fruits: [
           "Bananas", "Apples", "Pineapple", "Pears", "Dates", "Cranberries",
           "Strawberries", "Papaya", "Raspberries", "Açai", "Kiwis", "Prunes",
           "Blackberries", "Peaches", "Grapefruit", "Apricots", "Guava",
           "Cantaloupe", "Figs", "Grapes", "Blueberries", "Plums",
           "Watermelon", "Cherries", "Dragon Fruit", "Mangos", "Oranges"
         ],
         Protein: [
           "Black Beans", "Navy Beans", "Kidney Beans", "Pinto Beans", "Garbanzo Beans",
           "Eggs", "Lentils", "Edamame", "Cannellini Beans", "Lima Beans",
           "Mung Beans", "Black-eyed Peas", "Split Peas", "Adzuki Beans", "Tempeh",
           "Paneer (Soft Cheese)", "Goat Cheese (Soft)",
           "Cottage Cheese", "Ricotta Cheese", "Fresh Mozzarella", "Mascarpone",
           "Regular Yogurt", "Greek Yogurt", "Tofu"
         ],
         Grains: [
           "Oatmeal", "Quinoa", "Barley", "Rice", "Soft Pasta",
           "Whole Wheat Pancake", "Soft Wheat Bread", "Millet", "Couscous"
         ],
         Fats: [
           "Avocado", "Olive Oil", "Coconut Butter", "Ground Nuts",
           "Chia Seeds", "Hemp Seeds", "Flax Seeds",
           "Almond Butter", "Peanut Butter", "Sunflower Butter"
         ],
         "Herbs/Spices": [
           "Garlic", "Basil", "Ginger", "Mint", "Turmeric",
           "Rosemary", "Nutmeg", "Cilantro", "Cardamom", "Cinnamon"
         ]
       };


       const CATEGORY_ICONS = {
         Veggies: <Icon name="Leaf" className="w-5 h-5" />,
         Fruits: <Icon name="Apple" className="w-5 h-5" />,
         Protein: <Icon name="Beef" className="w-5 h-5" />,
         Grains: <Icon name="Wheat" className="w-5 h-5" />,
         Fats: <Icon name="Droplet" className="w-5 h-5" />,
         "Herbs/Spices": <Icon name="Sparkles" className="w-5 h-5" />
       };


       const CATEGORY_COLORS = {
         Veggies: "bg-green-100 text-green-700 border-green-200",
         Fruits: "bg-red-100 text-red-700 border-red-200",
         Protein: "bg-orange-100 text-orange-700 border-orange-200",
         Grains: "bg-yellow-100 text-yellow-700 border-yellow-200",
         Fats: "bg-blue-100 text-blue-700 border-blue-200",
         "Herbs/Spices": "bg-purple-100 text-purple-700 border-purple-200"
       };


       function BabyFoodChecklist() {
         const [checkedItems, setCheckedItems] = useState([]);
         const [activeCategory, setActiveCategory] = useState("All");
         const [searchQuery, setSearchQuery] = useState("");
         const [filterMode, setFilterMode] = useState("All");
         const [showConfetti, setShowConfetti] = useState(false);
         const [expandedCategories, setExpandedCategories] = useState(Object.keys(FOOD_DATA).reduce((acc, cat) => ({...acc, [cat]: true}), {}));


         useEffect(() => {
           const saved = localStorage.getItem('babyFoodChecklist_v1');
           if (saved) {
             try {
               setCheckedItems(JSON.parse(saved));
             } catch (e) {
               console.error("Failed to load progress", e);
             }
           }
         }, []);


         useEffect(() => {
           localStorage.setItem('babyFoodChecklist_v1', JSON.stringify(checkedItems));
         }, [checkedItems]);


         const toggleItem = (item) => {
           let newChecked;
           if (checkedItems.includes(item)) {
             // Uncheck
             newChecked = checkedItems.filter(i => i !== item);
           } else {
             // Check
             newChecked = [...checkedItems, item];
             // Trigger confetti on EVERY check
             setShowConfetti(true);
             setTimeout(() => setShowConfetti(false), 1500); // Shorter duration for quick ticking
           }
           setCheckedItems(newChecked);
         };


         const toggleCategoryExpand = (cat) => {
           setExpandedCategories(prev => ({
             ...prev,
             [cat]: !prev[cat]
           }));
         };


         const totalItems = Object.values(FOOD_DATA).flat().length;
         const progress = Math.round((checkedItems.length / totalItems) * 100);


         const filterItems = (items) => {
           return items.filter(item => {
             const matchesSearch = item.toLowerCase().includes(searchQuery.toLowerCase());
             const matchesFilter =
               filterMode === "All" ? true :
               filterMode === "Tried" ? checkedItems.includes(item) :
               !checkedItems.includes(item);
             return matchesSearch && matchesFilter;
           });
         };


         const renderCategory = (categoryName) => {
           const items = FOOD_DATA[categoryName];
           const filteredItems = filterItems(items);
          
           if (filteredItems.length === 0 && (searchQuery || filterMode !== "All")) return null;
          
           const isExpanded = expandedCategories[categoryName];
           const categoryProgress = items.filter(i => checkedItems.includes(i)).length;
           const isComplete = categoryProgress === items.length;


           return (
             <div key={categoryName} className="mb-6 bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden">
               <button
                 onClick={() => toggleCategoryExpand(categoryName)}
                 className={`w-full flex items-center justify-between p-4 ${CATEGORY_COLORS[categoryName]} transition-colors`}
               >
                 <div className="flex items-center gap-3">
                   <div className="p-2 bg-white/50 rounded-lg backdrop-blur-sm">
                     {CATEGORY_ICONS[categoryName]}
                   </div>
                   <div className="text-left">
                     <h3 className="font-bold text-lg leading-tight">{categoryName}</h3>
                     <span className="text-xs opacity-80 font-medium">
                       {categoryProgress} / {items.length} tried
                     </span>
                   </div>
                 </div>
                 <div className="flex items-center gap-2">
                    {isComplete && <div className="bg-white/30 p-1 rounded-full"><Icon name="Check" className="w-4 h-4" /></div>}
                    {isExpanded ? <Icon name="ChevronUp" className="w-5 h-5 opacity-60" /> : <Icon name="ChevronDown" className="w-5 h-5 opacity-60" />}
                 </div>
               </button>
              
               {isExpanded && (
                 <div className="p-2 grid grid-cols-1 sm:grid-cols-2 gap-2">
                   {filteredItems.map(item => {
                     const isChecked = checkedItems.includes(item);
                     return (
                       <button
                         key={item}
                         onClick={() => toggleItem(item)}
                         className={`
                           flex items-center gap-3 p-3 rounded-lg border text-left transition-all duration-200
                           ${isChecked
                             ? 'bg-slate-50 border-slate-200 opacity-60'
                             : 'bg-white border-slate-100 hover:border-slate-300 shadow-sm hover:shadow-md'
                           }
                         `}
                       >
                         <div className={`
                           w-6 h-6 rounded-md border-2 flex items-center justify-center transition-colors
                           ${isChecked
                             ? 'bg-green-500 border-green-500 text-white'
                             : 'border-slate-300 bg-white'
                           }
                         `}>
                           {isChecked && <Icon name="Check" className="w-4 h-4" strokeWidth={3} />}
                         </div>
                         <span className={`font-medium ${isChecked ? 'line-through text-slate-400' : 'text-slate-700'}`}>
                           {item}
                         </span>
                       </button>
                     );
                   })}
                 </div>
               )}
             </div>
           );
         };


         return (
           <div className="min-h-screen bg-slate-50 pb-20 font-sans">
             {/* Confetti + Popup */}
             {showConfetti && (
               <>
                 <Confetti />
                 <div className="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 pointer-events-none">
                    <div className="bg-white/95 backdrop-blur px-6 py-4 rounded-2xl shadow-xl border-2 border-green-100 flex items-center gap-3 animate-bounce-in">
                       <div className="text-yellow-500 bg-yellow-50 p-2 rounded-full">
                           <Icon name="Trophy" className="w-6 h-6" />
                       </div>
                       <div>
                          <h2 className="font-bold text-slate-800 text-lg leading-none">Tasty!</h2>
                          <p className="text-slate-500 text-xs font-medium">{checkedItems.length} down, {totalItems - checkedItems.length} to go</p>
                       </div>
                    </div>
                 </div>
               </>
             )}


             {/* Sticky Header */}
             <div className="sticky top-0 z-30 bg-white border-b border-slate-200 shadow-sm">
               <div className="max-w-3xl mx-auto px-4 py-4">
                 <div className="flex items-center justify-between mb-4">
                   <div className="flex items-center gap-2">
                     <div className="bg-green-100 p-2 rounded-lg text-green-600">
                       <Icon name="Apple" className="w-6 h-6" />
                     </div>
                     <div>
                       <h1 className="text-xl font-bold text-slate-800">Ved's 100 Foods</h1>
                       <p className="text-xs text-slate-500">Before one year old</p>
                     </div>
                   </div>
                  
                   <div className="text-right">
                     <div className="text-2xl font-black text-green-600 leading-none">{checkedItems.length}</div>
                     <div className="text-xs text-slate-400 font-medium">OF {totalItems}</div>
                   </div>
                 </div>


                 {/* Progress Bar */}
                 <div className="relative h-3 w-full bg-slate-100 rounded-full overflow-hidden">
                   <div
                     className="absolute top-0 left-0 h-full bg-gradient-to-r from-green-400 to-green-600 transition-all duration-500 ease-out"
                     style={{ width: `${progress}%` }}
                   />
                 </div>
               </div>
              
               {/* Search and Filters Bar */}
               <div className="max-w-3xl mx-auto px-4 pb-3 flex gap-2 overflow-x-auto no-scrollbar">
                  <div className="relative flex-grow min-w-[150px]">
                   <div className="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400">
                       <Icon name="Search" className="w-4 h-4" />
                   </div>
                   <input
                     type="text"
                     placeholder="Find a food..."
                     value={searchQuery}
                     onChange={(e) => setSearchQuery(e.target.value)}
                     className="w-full pl-9 pr-4 py-2 bg-slate-100 border-none rounded-full text-sm focus:ring-2 focus:ring-green-500 outline-none"
                   />
                 </div>
                
                 <div className="flex bg-slate-100 rounded-full p-1 flex-shrink-0">
                   {['All', 'To Try', 'Tried'].map(mode => (
                     <button
                       key={mode}
                       onClick={() => setFilterMode(mode)}
                       className={`
                         px-3 py-1.5 rounded-full text-xs font-bold transition-all
                         ${filterMode === mode
                           ? 'bg-white text-slate-800 shadow-sm'
                           : 'text-slate-500 hover:text-slate-700'
                         }
                       `}
                     >
                       {mode}
                     </button>
                   ))}
                 </div>
               </div>
             </div>


             {/* Main Content */}
             <div className="max-w-3xl mx-auto px-4 py-6">
              
               {/* Categories */}
               <div className="space-y-2">
                 {activeCategory === "All" ? (
                    Object.keys(FOOD_DATA).map(cat => renderCategory(cat))
                 ) : (
                    renderCategory(activeCategory)
                 )}
               </div>


               {/* Empty State */}
               {filterItems(Object.values(FOOD_DATA).flat()).length === 0 && (
                 <div className="text-center py-12 opacity-50">
                   <div className="bg-slate-200 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-400">
                     <Icon name="Search" className="w-8 h-8" />
                   </div>
                   <p className="text-slate-600 font-medium">No foods found matching your filter.</p>
                 </div>
               )}
             </div>


             {/* Floating Category Nav (Mobile) */}
             <div className="fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-4 py-3 pb-safe z-40 lg:hidden overflow-x-auto no-scrollbar">
               <div className="flex gap-2 min-w-max">
                 <button
                    onClick={() => setActiveCategory("All")}
                    className={`flex flex-col items-center gap-1 min-w-[60px] ${activeCategory === "All" ? 'text-green-600' : 'text-slate-400'}`}
                 >
                   <Icon name="PieChart" className="w-5 h-5" />
                   <span className="text-[10px] font-bold">All</span>
                 </button>
                 {Object.keys(FOOD_DATA).map(cat => (
                    <button
                      key={cat}
                      onClick={() => {
                        setActiveCategory(cat);
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                      }}
                      className={`flex flex-col items-center gap-1 min-w-[60px] ${activeCategory === cat ? 'text-green-600' : 'text-slate-400'}`}
                    >
                      {React.cloneElement(CATEGORY_ICONS[cat], { className: "w-5 h-5" })}
                      <span className="text-[10px] font-bold truncate max-w-[60px]">{cat === "Herbs/Spices" ? "Herbs" : cat}</span>
                    </button>
                 ))}
               </div>
             </div>
           </div>
         );
       }


       const root = ReactDOM.createRoot(document.getElementById('root'));
       root.render(<BabyFoodChecklist />);
   </script>
</body>
</html>